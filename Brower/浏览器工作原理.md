# 浏览器工作原理

浏览器将至少有四个进程 分担浏览器中的各各功能的作用 另外 safebrawing 的作用就是检查站点是否安全 确认安全后返回给浏览器端
Dom 树生成过程

1. 在 script 中 没有使用 aynac 或者 defer 属性 会因为加载 js 文件而中断 dom 数的生成 而 css、图片等信息不会导致 dom 的中断
2. 在 dom 树生成后 构建 layout 树 其结合 dom 树与 css 样式生成的 layout 是结合了位置信息
3. dom 树关注的是 html layout 树关注的是 dom 与样式
4. 渲染顺序 以及栅格化概念将信息转为像素并渲染

# tcp/ip 协议与传统七层协议

1. 应用层（会话层、表示层、应用层）
2. tcp 数据传输层 添加端口号
3. ip 网络层 添加 ip 地址
4. 物理层 （物理层、数据链路层）二进制信息转为网络信号

## 猫的概念

是将数字信号翻译成科沿普通电话线传输的模拟信号 并在公共网络上传输 最后到达 ISP NSP
路由表的概念:是包含所有子网内的全部 ip 地址信息 所到达的位置没有 des 的话即向上传递。

# wireshark 工具

来进行抓包处理
mac 网关的作用:

1.  数据包转发，网关作为网络中不同子网之间的桥梁，可以将数据包从一个子网发送到另外一个子网。当源设备要发送数据包到目标设备所在的子网时，它会将数据包发给网关，网关根据目标设备的 IP
    地址判断应该将数据包发送到那个子网。
2.  路由选择: 网关在网络中扮演者路由器的功能，负责根据网络的拓扑结构和路由表选择最佳的路径将数据包转发到目标设备。
3.  网络地址转换（NAT）:网关还可以实现地址转换，将内部私有网络中的 IP 地址转换为公共网络可识别的 IP 地址
4.  访问控制和安全性 网关可以实施访问控制策略，限制进出网络的数据流量。它可以过滤和阻止不符合特定规则的数据包，提供网络安全性和防火墙功能。

#tcp

1. 发送 http 前需要进行三次握手(tcp) 之后确定 ack 再发送 http 请求 接着就是四次挥手
   第一次发送信息 SYN=1 第二次 SYN=1,ACK=1 响应信息 第三次 确认信息 ACK=1
2. 能对数据有一定的控制做作用 即是数据包的顺序
3. 状态码 syn ack
   1. syc 1 发送连接信息 0 确认连接信息
   2. ack 1 是一个确认信息 0 不是一个确认信息
   3. FIN 关闭连接

# 浏览器渲染过程

1. 可以查看 performance 下的内容
   Parse html、 Parse Stylesheet、 recalculate Style、Layout、Updata Layer Tree、 Paint、 Composite Layers
2. 查看网页的层的结构 可以通过 layers
3. 浏览器每次可以接受 64kb

## 重绘与重排

1.  因为浏览器渲染页面的时候是以图层为单位的。 所以这个地方最好将变化的元素作为单独一个图层，将其隔离起来。就不会对其他元素造成影响。
2.  重绘即使元素样式的改变(不包括宽高、大小、位置) 触发重绘的属性 color border-color border-style visibility background background-image background-postion back-repeat outline
    -. 重排

    1. 计算元素在窗口的几何位置 layout
    2. 计算元素在窗口的集体的呈现 paint

       - (要提高性能 即就是减少以上四步) 计算需要被加载到节点上的样式结果、为每个节点生成图形和位置、将每个节点填充到图层中、组合图层到页面上
         1. 元素位置移动变换时使用 css3 中的 transform 来代替 top left （直接使用 transform 会出发重排和重绘）
         2. 配合 posistion:relative 只会触发重绘
         3. 元素作为一个单独的图层处理使用 transform 不会触发重绘、也不会触发重排
       - 使用 opacity 来代替 visibility
         - 使用 visibility 不触发重排，但是依然重绘
         - 使用 opacity 即触发重绘、又触发重排
         - opacity 配合图层使用，不会出发重绘也不触发重排
       - 将多次改变样式的操作合并一次 -不要一条条第修改 DOM 的样式，预先定义好 class 然后修改 DOM 中的 className
       - 利用文档碎片 ducumentFragment
       - 不要把获取某些 DOM 节点的属性值放在一个循环里面当成循环的变量 -但获取文旦的 width，height 的嘿嘿会出发重绘和重排
       - 为动画元素新建图层
